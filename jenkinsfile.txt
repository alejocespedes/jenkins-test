def gv

pipeline {
    agent any
    parameters {
         string(name: 'PERSON', defaultValue: '', description: 'Who should I say hello to?')
         string(name: 'HOST', defaultValue: '', description: 'SSH Host')
         
         text(name: 'NOMBRE', defaultValue: '')
         choice(name: 'SELECCION', choices:['1','2'])
    }
    stages {
        stage('init') {
            steps {
                script{
                    gv = load "main.groovy"
                }
            }
        }
        stage('build') {
            steps {
                script{
                    gv.funcion()
                    gv.comandos()
                }
            }
        }
        stage('TEST') {
            steps {
                echo "hola TEST ${params.NOMBRE}"
            }
        }
        stage('IMPLEMENTATION') {
            steps {
                echo "hola IMPLE${params.SELECCION}"
            }
        }
    }
}
